(this["webpackJsonpinsta-clone"]=this["webpackJsonpinsta-clone"]||[]).push([[0],{18:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return c}));var n=a(32),r=a.n(n);a(76),a(78),a(99);r.a.initializeApp({apiKey:"AIzaSyD2erL6u_VfdWn24yhKBAkgSlzu9qivEGs",authDomain:"sharepic-app.firebaseapp.com",databaseURL:"https://sharepic-app.firebaseio.com",projectId:"sharepic-app",storageBucket:"sharepic-app.appspot.com",messagingSenderId:"859634332379",appId:"1:859634332379:web:70abeb2890a8e84023d2fe",measurementId:"G-8H8HT429GM"});var l=r.a.auth(),o=r.a.firestore(),c=r.a.storage()},24:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(10),r=a(0),l=a.n(r),o=a(18),c=l.a.createContext(null);t.b=function(e){var t=e.children,a=l.a.useState(null),i=Object(n.a)(a,2),s=i[0],u=i[1],m=l.a.useState(!0),p=Object(n.a)(m,2),d=p[0],g=p[1];return Object(r.useEffect)((function(){o.a.onAuthStateChanged((function(e){u(e),g(!1),e&&o.b.collection("users").doc(e.uid).onSnapshot((function(e){if(e.data().uid)u(e.data());else{var t={email:e.data().email,displayName:e.data().username,picUrl:e.data().picUrl,uid:e.id};u(t)}}))}))}),[u]),d?l.a.createElement("div",{style:{width:"100%",height:"100vh",position:"fixed",top:"0",background:"#ececec",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"}},l.a.createElement("img",{width:"300px",style:{objectFit:"contain"},src:"./images/logo.png",alt:"logo"}),"Loading..."):l.a.createElement(c.Provider,{value:{currentUser:s}},t)}},68:function(e,t,a){e.exports=a(98)},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},86:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(5),o=a.n(l),c=(a(73),a(10)),i=a(62),s=(a(74),a(75),a(7)),u=a(24);var m=function(e){var t=e.setLoginModalOpen,a=e.setRegisterModalOpen,l=Object(s.g)();return Object(n.useContext)(u.a).currentUser&&l.push("/posts"),r.a.createElement("div",{className:"continue__tologin"},r.a.createElement("img",{src:"images/logo.png",alt:"logo"}),r.a.createElement("h1",null,"Welcome to SharePic"),r.a.createElement("h3",null,"Login to continue"),r.a.createElement("h5",{onClick:function(){t(!0),a(!1)}},"Login"),r.a.createElement("h5",{onClick:function(){a(!0),t(!1)}},"Don't have an account? Create here"))},p=(a(86),a(27)),d=a.n(p),g=a(127),f=a(46),h=a.n(f),E=a(43),b=a.n(E),v=a(18);d.a.setAppElement("#root");var C=function(e){var t=e.open,a=e.handleClose,n=Object(s.g)(),l=r.a.useState(""),o=Object(c.a)(l,2),i=o[0],u=o[1],m=r.a.useState(""),p=Object(c.a)(m,2),f=p[0],E=p[1],C=r.a.useState(null),y=Object(c.a)(C,2),O=y[0],j=y[1],w=r.a.useState(!1),S=Object(c.a)(w,2),k=S[0],x=S[1];return r.a.createElement(d.a,{isOpen:t,onRequestClose:a,style:{overlay:{backgroundColor:"rgba(0, 0, 0, 0.75)"},content:{top:"50%",left:"50%",right:"0",bottom:"0",transform:"translate(-50%,-50%)",borderRadius:"10px",width:"18rem",minHeight:"18rem",padding:"2rem 1rem",textAlign:"center",display:"grid",placeItems:"center"}}},r.a.createElement("form",{className:"login__form"},r.a.createElement("div",{className:"close",onClick:a},r.a.createElement(b.a,null)),r.a.createElement(h.a,{fontSize:"large"}),r.a.createElement("p",{className:"modal__head"},"Sign In"),O&&r.a.createElement("p",{className:"error"},O),r.a.createElement("input",{type:"text",name:"username",id:"username",value:i,onChange:function(e){return u(e.target.value)},placeholder:"Email",autoComplete:"off"}),r.a.createElement("input",{type:"password",name:"password",id:"password",value:f,onChange:function(e){return E(e.target.value)},placeholder:"Password"}),r.a.createElement("button",{type:"submit",onClick:function(e){e.preventDefault(),j(null),x(!0),v.a.signInWithEmailAndPassword(i,f).then((function(e){x(!1),n.push("/posts")})).catch((function(e){x(!1),j(e.message)}))}},k?r.a.createElement(g.a,{size:20,color:"inherit"}):"Login")))};a(97);d.a.setAppElement("#root");var y=function(e){var t=e.open,a=e.handleClose,n=Object(s.g)(),l=r.a.useState(""),o=Object(c.a)(l,2),i=o[0],u=o[1],m=r.a.useState(""),p=Object(c.a)(m,2),f=p[0],E=p[1],C=r.a.useState(""),y=Object(c.a)(C,2),O=y[0],j=y[1],w=r.a.useState(null),S=Object(c.a)(w,2),k=S[0],x=S[1],N=r.a.useState(!1),_=Object(c.a)(N,2),I=_[0],L=_[1];return r.a.createElement(d.a,{isOpen:t,onRequestClose:a,style:{overlay:{backgroundColor:"rgba(0, 0, 0, 0.75)"},content:{top:"50%",left:"50%",right:"0",bottom:"0",transform:"translate(-50%,-50%)",borderRadius:"10px",width:"18rem",minHeight:"21rem",padding:"2rem 1rem",textAlign:"center",display:"grid",placeItems:"center"}}},r.a.createElement("form",{className:"register__form"},r.a.createElement("div",{className:"close",onClick:a},r.a.createElement(b.a,null)),r.a.createElement(h.a,{fontSize:"large"}),r.a.createElement("p",{className:"modal__head"},"Register"),k&&r.a.createElement("p",{className:"error"},k),r.a.createElement("input",{type:"text",name:"username",id:"username",value:i,onChange:function(e){return u(e.target.value)},placeholder:"Email",autoComplete:"off"}),r.a.createElement("input",{type:"text",name:"displayname",id:"displayname",value:O,onChange:function(e){return j(e.target.value)},placeholder:"Display Name",autoComplete:"off"}),r.a.createElement("input",{type:"password",name:"password",id:"password",value:f,onChange:function(e){return E(e.target.value)},placeholder:"Password"}),r.a.createElement("button",{type:"submit",onClick:function(e){e.preventDefault(),L(!0),x(null),v.a.createUserWithEmailAndPassword(i,f).then((function(e){return v.b.collection("users").doc(e.user.uid).set({email:i,displayName:O,picUrl:"images/avatar-default.png"})})).then((function(){L(!1),n.push("/posts")})).catch((function(e){L(!1),x(e.message)}))}},I?r.a.createElement(g.a,{size:20,color:"inherit"}):"Register")))},O=a(60),j=a.n(O),w=a(61),S=a.n(w),k=a(128),x=a(130),N=a(132),_=a(131),I=r.a.lazy((function(){return a.e(5).then(a.bind(null,154))})),L=r.a.lazy((function(){return Promise.all([a.e(3),a.e(4)]).then(a.bind(null,156))}));function A(e){var t=e.children,a=Object(i.a)(e,["children"]),l=Object(n.useContext)(u.a).currentUser;return r.a.createElement(s.b,Object.assign({},a,{render:function(e){var a=e.location;return l?t:r.a.createElement(s.a,{to:{pathname:"/",state:{from:a}}})}}))}var R=function(){var e=Object(s.g)(),t=Object(n.useContext)(u.a).currentUser,a=r.a.useState(null),l=Object(c.a)(a,2),o=l[0],i=l[1],p=r.a.useState(!1),d=Object(c.a)(p,2),g=d[0],f=d[1],h=r.a.useState(!1),E=Object(c.a)(h,2),b=E[0],O=E[1];return r.a.createElement("div",{className:"app"},r.a.createElement("header",null,r.a.createElement("div",{className:"header__contents"},r.a.createElement("img",{src:"images/logo.png",alt:"logo"}),r.a.createElement("div",{className:"buttons"},t?r.a.createElement(k.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){i(e.currentTarget)}},r.a.createElement(_.a,{alt:t.displayName,src:t.picUrl}),r.a.createElement("span",{className:"header__username"},t.displayName)):r.a.createElement("div",{className:"login__register"},r.a.createElement("div",{className:"login",onClick:function(){f(!0),O(!1)}},"Login ",r.a.createElement(j.a,{color:"action"})),r.a.createElement(C,{open:g,handleClose:function(){return f(!1)}}),r.a.createElement("div",{className:"register",onClick:function(){O(!0),f(!1)}},"Register ",r.a.createElement(S.a,{color:"action"})),r.a.createElement(y,{open:b,handleClose:function(){return O(!1)}})),r.a.createElement(x.a,{id:"simple-menu",anchorEl:o,keepMounted:!0,open:Boolean(o),onClose:function(){i(null)}},r.a.createElement(N.a,{onClick:function(){i(null),e.push("/profile")}},"Profile"),r.a.createElement(N.a,{onClick:function(){i(null),v.a.signOut()}},"Logout"))))),r.a.createElement(n.Suspense,{fallback:r.a.createElement("div",{style:{width:"100%",height:"100vh",position:"fixed",top:"0",background:"#ececec",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"}},r.a.createElement("img",{width:"300px",style:{objectFit:"contain"},src:"./images/logo.png",alt:"logo"}),"Loading...")},r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/"},r.a.createElement(m,{setLoginModalOpen:f,setRegisterModalOpen:O})),r.a.createElement(A,{exact:!0,path:"/posts"},r.a.createElement(I,null)),r.a.createElement(A,{exact:!0,path:"/profile"},r.a.createElement(L,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var U=a(23);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(u.b,null,r.a.createElement(U.a,null,r.a.createElement(R,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[68,1,2]]]);
//# sourceMappingURL=main.2bea5dcb.chunk.js.map